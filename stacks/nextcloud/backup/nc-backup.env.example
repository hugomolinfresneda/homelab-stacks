# ==============================================================================
# Nextcloud Backup - Environment (example)
# Copy to: ${RUNTIME_ROOT}/ops/backups/nc-backup.env (or any path you prefer)
# Referenced by: stacks/nextcloud/backup/nc-backup.sh
# ==============================================================================
# Values are literal; set absolute paths (no env-file interpolation).
# Placeholders:
# STACKS_DIR=<ABS_PATH_TO_STACKS_DIR>
# RUNTIME_ROOT=<ABS_PATH_TO_RUNTIME_ROOT>
# RUNTIME_DIR is derived: <ABS_PATH_TO_RUNTIME_ROOT>/stacks/<stack>

# --- Compose services and volume (must match your compose) --------------------
# Legacy nc-* names are accepted and auto-mapped to service names.
NC_APP_CONT=your-app-service
NC_DB_CONT=your-db-service
NC_WEB_CONT=your-web-service
NC_CRON_CONT=your-cron-service

# Named data volume for Nextcloud code/config/data (auto-prefixed by Compose)
# Tip: docker volume ls | grep nextcloud
NC_VOL=yourproject_nextcloud

# --- Database credentials (MUST match your runtime .env) ----------------------
NC_DB_NAME=exampledb
NC_DB_USER=exampleuser
NC_DB_PASS=changeme

# --- Output folder for artifacts ---------------------------------------------
# Final files:
#   - ${BACKUP_DIR}/nc-<UTC_TS>-db.sql
#   - ${BACKUP_DIR}/nc-vol-<UTC_TS>.tar.gz
#   - ${BACKUP_DIR}/nc-<UTC_TS>.sha256
BACKUP_DIR=<ABS_PATH_TO_NEXTCLOUD_BACKUPS_DIR>

# --- Notes --------------------------------------------------------------------
# - Do not source your runtime .env here. Keep this file minimal and scoped to
#   backup needs only (containers, volume name, DB credentials).
# - Do not quote NC_VOL.

# Uptime Kuma push for Nextcloud backup (optional)
KUMA_PUSH_URL="https://your-domain.tld/api/push/your-token"
# KUMA_RESOLVE_IP=192.168.1.11

# Optional overrides (uncomment if needed)
# COMPOSE_FILE=<ABS_PATH_TO_STACKS_DIR>/stacks/nextcloud/compose.yaml
# RUNTIME_DIR=<ABS_PATH_TO_RUNTIME_ROOT>/stacks/nextcloud   # Derived from RUNTIME_ROOT; set only if needed.
# BACKUP_TEXTFILE_DIR=<ABS_PATH_TO_TEXTFILE_COLLECTOR_DIR>  # Example: /var/lib/node_exporter/textfile_collector
