# --- Restic ---
export RESTIC_REPOSITORY="$HOME/Backups/homelab-restic"   # or s3:..., b2:..., rclone:...
export RESTIC_PASSWORD="C√ÅMBIAME"
# Retention policy
export RESTIC_KEEP_DAILY=7
export RESTIC_KEEP_WEEKLY=4
export RESTIC_KEEP_MONTHLY=6
# Grouping for retention (optional; e.g. "host" or "host,tags")
# export RESTIC_GROUP_BY="host"
# Apply retention after each backup? (1=yes, 0=no)
export RUN_FORGET=1

# Exclusions
# Prefer this var name (singular). The script also accepts EXCLUDE_FILE and legacy RESTIC_EXCLUDES_FILE.
export RESTIC_EXCLUDE_FILE="/opt/homelab-stacks/ops/backups/exclude.txt"

# Uptime Kuma (Push monitor)
export KUMA_PUSH_URL="https://uptime-kuma.<YOUR_DOMAIN>/api/push/<YOUR_TOKEN>"
# Optional DNS override for Kuma push (if hairpin NAT/DNS issues)
# export KUMA_RESOLVE_IP="192.168.1.44"

# What to back up (paths may be absent; the script will skip them cleanly)
# NOTE: do NOT put the Nextcloud data volume here; use the dedicated nc-backup.sh flow.
BACKUP_PATHS=(
  # Public infra (scripts, ops, etc.)
  "/opt/homelab-stacks/ops"

  # CouchDB (bind)
  "/opt/homelab-runtime/stacks/couchdb/data"

  # Nextcloud backup artifacts (sql+tar+.sha256), not the data volume
  "$HOME/Backups/nextcloud"

  # Uptime Kuma data (bind)
  "/opt/homelab-runtime/stacks/uptime-kuma/data"
)
