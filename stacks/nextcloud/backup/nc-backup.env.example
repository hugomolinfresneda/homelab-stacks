# ==============================================================================
# Nextcloud Backup â€” Environment (example)
# Copy to: ~/.config/nextcloud/nc-backup.env  (o la ruta que prefieras)
# Referenced by: stacks/nextcloud/backup/nc-backup.sh
# ==============================================================================

# --- Compose services and volume (must match your compose) --------------------
# Legacy nc-* names are accepted and auto-mapped to service names.
NC_APP_CONT=your-app-service
NC_DB_CONT=your-db-service
NC_WEB_CONT=your-web-service
NC_CRON_CONT=your-cron-service

# Named data volume for Nextcloud code/config/data (auto-prefixed by Compose)
# Tip: docker volume ls | grep nextcloud
NC_VOL=yourproject_nextcloud

# --- Database credentials (MUST match your runtime .env) ----------------------
NC_DB_NAME=exampledb
NC_DB_USER=exampleuser
NC_DB_PASS=changeme

# --- Output folder for artifacts ---------------------------------------------
# Final files:
#   - ${BACKUP_DIR}/nc-<UTC_TS>-db.sql
#   - ${BACKUP_DIR}/nc-vol-<UTC_TS>.tar.gz
#   - ${BACKUP_DIR}/nc-<UTC_TS>.sha256
BACKUP_DIR=/path/to/nextcloud-backups

# --- Notes --------------------------------------------------------------------
# - Do not source your runtime .env here. Keep this file minimal and scoped to
#   backup needs only (containers, volume name, DB credentials).
# - Do not quote NC_VOL.

# Uptime Kuma push for Nextcloud backup
KUMA_PUSH_URL="https://your-domain.tld/api/push/your-token"
